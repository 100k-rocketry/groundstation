<html>
<head>
    <meta charset=utf-8>
</head>
<body>
    <canvas id="canvas" width="100%" height="100%"></canvas>
</body>
<script language = "javascript" src = "scripts/three/build/three.min.js"></script>
<script language = "javascript" src = "scripts/three/examples/js/controls/TrackballControls.js"></script>
<script language = "javascript" src = "scripts/three/examples/js/loaders/OBJLoader.js"></script>
<script>
    var scene = new THREE.Scene();
    scene.background = new THREE.Color(0x84C5F0);
    var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

    var renderer = new THREE.WebGLRenderer();
    renderer.setSize( window.innerWidth, window.innerHeight );
    document.body.appendChild( renderer.domElement );

    //var geometry = new THREE.BoxGeometry( 1, 1, 1 );
    //var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
    //var cube = new THREE.Mesh( geometry, material );
    //scene.add( cube );


    var rocketGeometry = new THREE.SphereGeometry(.1, 32, 32);
    var rocketMaterial = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
    var rocket = new THREE.Mesh( rocketGeometry, rocketMaterial );
    scene.add(rocket);

    camera.position.z = 5;

    function render() {
    	requestAnimationFrame( render );
      rocket.translateZ(0.00001);
    	renderer.render( scene, camera );
    }

	function animate() {
		requestAnimationFrame( animate );
		controls.update();
	}

    controls = new THREE.TrackballControls( camera );
    controls.target.set( 0, 0, 0 );

	controls.rotateSpeed = 1.0;
	controls.zoomSpeed = 1.2;
	controls.panSpeed = 0.8;

	controls.noZoom = false;
	controls.noPan = false;

	controls.staticMoving = true;
	controls.dynamicDampingFactor = 0.3;

    controls.addEventListener('change', render);


THREE.ImageUtils.crossOrigin = "";

    var loader = new THREE.TextureLoader();


				var ambientLight = new THREE.AmbientLight ( 0xffffff , .5);

				scene.add ( ambientLight );

				var directionalLight = new THREE.DirectionalLight( 0xffeedd, 1 );
				directionalLight.position.set( 0, 0, 7 );
				scene.add( directionalLight );
        /*var shaderMaterial = new THREE.ShaderMaterial({
        uniforms: uniforms,
        vertexShader: phongShader.vertexShader,
        fragmentShader: phongShader.fragmentShader,
        lights:true,
        fog: true
      });*/


					var manager = new THREE.LoadingManager();
				manager.onProgress = function ( item, loaded, total ) {

					console.log( item, loaded, total );

				};


	var onProgress = function ( xhr ) {
					if ( xhr.lengthComputable ) {
						var percentComplete = xhr.loaded / xhr.total * 100;
						console.log( Math.round(percentComplete, 2) + '% downloaded' );
					}
				};

	var onError = function ( xhr ) {
	};

					//var texture = new THREE.Texture();

	var loader = new THREE.OBJLoader( manager );
  //Loading object here
				loader.load( 'usub2.obj', function ( object ) {

					object.traverse( function ( child ) {

						if ( child instanceof THREE.Mesh ) {

							//child.material.map = texture;

						}

					} );

					object.position.y = 0;
					object.position.x = 0;
					object.position.z = 0;
					scene.add( object );

					render();

				}, onProgress, onError );



    animate();
    render();





</script>
</html>
